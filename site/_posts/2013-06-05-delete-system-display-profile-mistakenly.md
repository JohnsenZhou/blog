---
layout: post
title: "误删系统显示描述文件"
date: 2013-06-05 16:47
tags: mac
comments: true
---

手贱，看见显示器的描述文件有重复，就想擅自删除几个。可自诩 Mac 达人的我，这回出了糗，误删了系统目录下的颜色描述文件，导致我的系统崩溃，接着就一直无敌风火轮了。。。

开始有点慌了，没有考虑到解决方案，打给苹果客服，一姑娘接的电话，态度是好，但水平太差。居然听不懂什么叫 **“颜色描述文件”** ，只是一味的让我重装系统。好嘛，重装前如何转移硬盘数据倒是说的挺溜。我很无奈的打断了姑娘的话，礼貌性滴谢谢再见后，陷入了沉思。

还是自己动手吧：开机按 `shift` 以安全模式启动，不行。开机按 `option + command + R + P` 清除 RAM，还是不行。难道真的要逼我重装！可重装太麻烦啦，不到万不得已，千万别走这一步。

仔细一想：删除掉的系统文件，还在垃圾篓里。只要能将垃圾篓里的文件再放回原处，我就得救了。可搞！咱这 Macbook 不是还有个 Recovery 分区么，里面有磁盘工具，有终端等等实用的工具。这次就是终端救了我。

## 操作步骤：
1.  开机按 `option` 等待出现选择界面；
1.  选择进入 Recovery；
1.  选择“实用工具” - “终端”（Utilities - Terminal）；
1.  下面重点的来了，首先定位到垃圾篓：

    ``` bash
    cd /Volume/Macintosh\ HD/Users/Yourname/.Trash
    ```

    执行 `ls -a` 看看删除掉的文件是不是在这儿；

1.  接下来你需要知道它们原本的位置路径，你可以用任意手边的终端去谷歌或百度一下，因为接下来我们要直接用命令拷贝了：

    ``` bash
    cp AdobeRGB1998.icc /Volumes/Macintosh\ HD/System/Library/ColorSync/Profiles/
    ```

    其它几个文件依葫芦画瓢；

1.  所有的文件都拷贝完后，最好用磁盘工具检查下权限问题，有问题则修复，没问题则可重启电脑了。

## 总结问题
-  以上方法，适用于大部分删除系统文件后无法进入系统的状况，前提是你要知道系统文件的原路径；
-  出了问题别一味的相信什么苹果客服苹果天才们，一个是专业水准的问题（这全靠运气了，有时能遇上高手有事遇到菜鸟），另一个是电话沟通效率低；
-  老生常谈：遇到问题要冷静思考，不到万不得已坚决不重装；
-  如果你的显示器描述文件出现了许多重复的，想删除一定要选对目录。

目录                                                |描述           |可删除性
:---------------------------------------------------|:-------------|:-------
/Users/Yourname/Library/ColorSync/Profiles         | 用户校准文件    |可删除
/Library/Application\ Support/Adobe/Color/Profiles | 推荐的颜色空间文件（貌似安装过 PS 就会有） |可删除
/Library/ColorSync/Profiles/Displays               | 原厂显示器颜色描述文件 |不建议删除，删除后无法做屏幕颜色矫正
/System/Library/ColorSync/Profiles                 | 系统颜色描述文件 |不可删除
